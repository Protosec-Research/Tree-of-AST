# Tree-of-AST
Tree-of-AST is a static-pseudocode analysing approach inspired by
[Tree of Thoughts: Deliberate Problem Solving with Large Language Models](https://arxiv.org/abs/2305.10601) that can be used in both security-analysis and jobs debugging tracing backs, However, in Tree-of-AST we are creating a `Tree-of-AST` embed with both `code` generated by AST tools and  and `LMs`'s thought. With a basic input point, we can use **evaluation** on both tree note pobabilty and creating a sub-tree of LM's respone

## Chain-Of-thought && backgrounds
Inspired by [Tree of Thoughts: Deliberate Problem Solving with Large Language Models](https://arxiv.org/abs/2305.10601), A solution combining **the tree** of Aspartate transferase and **the tree** of Chain-Of-thought. **However, we are not using chain-of-thought but creating a Chain-of-attack in favor of construction** of ToTs, including heuristically evaluating states;


![AUTOGDB](imgs/MindMap.svg)


### ToT
Construction of ToT can be summerized by four question metion in the paper:
1. How to decompose the intermediate process into thought steps;
2. How to generate potential thoughts from each state; 
3. How to heuristically evaluate states; 
4. What search algorithm to use.

Focused on the job on analysing via AST, in this case we specific analysing possible vulnerabilities, we can conclude that:

1. Informations will given ( Potential Vulnerabilty: Tools like `bandit`, Tree construction: AST )
2. To generate possible `K`, choosing from `Sampling`, and `Proposing`, we will use `Proposing` since `Proposing` works better when the thought space is more constrained (e.g. each thought is just a word or a line), so proposing different thoughts in the same context avoids duplication.
3. Choosing from `Vote` and `Value` or using together, we choose **COMBINING TWO BOTH**. Since vulnerabilty analysing jobs required both parallel judgement and future possible prediction, the final call will be considered with weight of 8:2 in 10.
4. `Depth-first search (DFS)` since we are actually conduction analysis on a existing possible vulnerabilty existence.

The whole workflow should be like:
```
1. Static vulnerabilty existence detection (Bandit for instance)
2. AST Tree building from and analysing (Finding xreferences and input)
3. Eval Tree notes reversely using `Vote` and `Value` of external LMs
    * If Note score > threshold, mark current note and restart on previous doubtful note using BHF.
    * If no Note score > threshold Until the final note is reached (t > T), mark as none.
```
### Exploitations
For exploitations, We can apply ToT approach, However, this time ToT's each note will be subtitude directly to the explotion notes-connects from saved possible attack vector. Meaning that for each attacking note, we will treat it as a `Thought`, and build possible line of parts of payload referencing to this `Thought`; and still apply the original evalution and moving on to next attacking note with same approach and with previous built exploits 
